---
layout: default
title:  "Coding an hashmap from scratch... in webassembly"
description: "Why I wanted to develop an hashmap in webassembly, and
why I think it's important."

authors: ["Adrien Zinger"]
comments_id: 7
---

## Coding an hashmap from scratch... in webassembly
<span style="color: #A0A0A0">[2022-05-18] \#WASM \#DataStructure

---


At first, it's strange and useless. I'm aware of that, the goal is not
to replace the dastructures generated by *C*, *AssemblyScript*, *grain* or
whatever an higher level language that build to wasm. It purelly something
you should do if you want to undertand clearly what's happening when you want
at some point do interoperability.

## First, some words about webassembly

Webassembly begin to be famous in the planet *informatic*. Nevertheless,
usecases where you can consider to build to wasm require some kind of embedder.
In other words, you need to define an envirronment to execute your code using
another language. E.g. *nodejs*, *Rust* or at least a browser that support wasm!

Once your done, you need to define how you manage the discussion between the
embedder and the wasm instance. And I'm very tired of that exemple :D :

```wat
(module
  (func $add (param $lhs i32) (param $rhs i32) (result i32)
    local.get $lhs
    local.get $rhs
    i32.add)
  (export "add" (func $add))
)
```

```js
WebAssembly.instantiateStreaming(fetch('add.wasm'))
.then(obj => {
    console.log(obj.instance.exports.add(1, 2));  // "3"
});
```

Here, we learn how to pass a simple `i32`. And then? What about a string? A
user-defined structure? The web seems to silent the fact that there is no
convention about it...

There is some good stuff that can help you if you work with
*Rust* that build to *wasm* and if you use the wasm in *Rust*.üêç
[wasm-bingen](https://github.com/rustwasm/wasm-bindgen) is a good example of
a project that tend to unify that world. But it's not very flexible for now.


In conclusion, if you want to some stuff, exotic, with wasm. You have to learn by
yourself how the data is represented in memory. And if you don't want to drown, I
strongly recommend to you to learn try a little bit to laught with webassembly directly.


